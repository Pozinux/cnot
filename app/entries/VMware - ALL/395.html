<div>En SSH sur un ESXi du cluster (donc qui partage le datastore sur lequel se trouve la VM).</div><div>Trouver le DS :</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></div><blockquote><font face="menlo">find /vmfs/volumes/ -name *.vmx | less&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>grep -i &lt;virtual_machine_name&gt; /vmfs/volumes/*/*/vmware-*.log</font></blockquote><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></div><div>Vérifier alors le dernier fichier vmware.log s'il existe. On devrait trouver une ligne du type :</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></div><div>2013-10-09 04:04:01.979Z| vmx| Hostname=name_of_host</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></div><div>Autre méthode, depuis un des ESXi je fais une boucle for sur la liste de tous les ESXi du cluster qui affiche la liste des VM de chaque ESXi et je grep sur le nom de la VM :</div><div>&nbsp;&nbsp;&nbsp;<br></div><div>Voir note -&gt;&nbsp;<a href="https://www.cnot.tpoz.fr/index.php?doss=VMware&amp;note=Lancer+une+commande+esxcli+sur+plusieurs+ESXi+sans+powercli">Lancer une commande esxcli sur plusieurs ESXi sans powercli</a></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></div><div>Sinon, il est sûrement possible d'interroger la BDD du vCenter et faire la requête SQL qui va bien du genre (c'est une vielle requête pour du MSQL 2005/2008 donc peut-être plus d'actualité) :</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></div><div><blockquote><font face="menlo">SELECT vpxv_vms.vmid, vpxv_vms.NAME, vpxv_vms.hostid, vpxv_hosts.NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>FROM vpxv_vms&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>JOIN vpxv_hosts on VPXV_VMS.HOSTID = VPXV_HOSTS.HOSTID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>WHERE (&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>(vpxv_hosts.hostid = vpxv_vms.hostid)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>AND (vpxv_vms.NAME = 'virtual_machine_name')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>)</font></blockquote></div><div>&nbsp;<br></div>