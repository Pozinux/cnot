<div><div>TRUNCATE TABLE (mysql) -&gt; DELETE FROM (sqlite)</div><div>&nbsp;<br></div><hr><div>&nbsp;<br></div><div>MYSQL :</div><div>&nbsp;<br></div><div><span style="color: rgb(8, 8, 8); font-family: &quot;JetBrains Mono&quot;, monospace;">db_connection.sql_query_executemany(</span><span style="color: rgb(0, 128, 128); font-family: &quot;JetBrains Mono&quot;, monospace; font-weight: bold;">f"INSERT INTO serveur_opca (serveur_name, dns_name, management_name, host_name) VALUES (<span style="background-color: rgb(255, 250, 165);">%s,</span></span><span style="background-color: rgb(255, 250, 165);"><span style="color: rgb(0, 128, 128); font-family: &quot;JetBrains Mono&quot;, monospace; font-weight: bold;">%s</span><span style="color: rgb(0, 128, 128); font-family: &quot;JetBrains Mono&quot;, monospace; font-weight: bold;">,</span><span style="color: rgb(0, 128, 128); font-family: &quot;JetBrains Mono&quot;, monospace; font-weight: bold;">%s,</span><span style="color: rgb(0, 128, 128); font-family: &quot;JetBrains Mono&quot;, monospace; font-weight: bold;">%s</span></span><span style="color: rgb(0, 128, 128); font-family: &quot;JetBrains Mono&quot;, monospace; font-weight: bold;">)"</span><span style="color: rgb(8, 8, 8); font-family: &quot;JetBrains Mono&quot;, monospace;">, data_list)</span></div><div>&nbsp;<br></div><div>SQLITE :</div><div>&nbsp;<br></div><div><span style="color: rgb(8, 8, 8); font-family: &quot;JetBrains Mono&quot;, monospace;">db_connection.sql_query_executemany(</span><span style="color: rgb(0, 128, 128); font-family: &quot;JetBrains Mono&quot;, monospace; font-weight: bold;">f"INSERT INTO serveur_opca (serveur_name, dns_name, management_name, host_name) VALUES (</span><span style="background-color: rgb(255, 250, 165); color: rgb(0, 128, 128); font-family: &quot;JetBrains Mono&quot;, monospace; font-weight: bold;">?,?,?,?</span><span style="color: rgb(0, 128, 128); font-family: &quot;JetBrains Mono&quot;, monospace; font-weight: bold;">)"</span><span style="color: rgb(8, 8, 8); font-family: &quot;JetBrains Mono&quot;, monospace;">, data_list)</span></div></div><div>&nbsp;<br></div><hr><div>&nbsp;<br></div><div>IF n'existe pas en SQLITE (sauf à partir d'une certaines version que je n'ai pas encore. C'est le IFF ou IIF je crois) -&gt; Il faut utiliser "CASE WHEN THEN ELSE END" en SQLITE.</div><div>&nbsp;<br></div><div>Le ON du JOIN en MYSQL n'est pas case sensitive. Il semblerait que celui de SQLITE si donc il m'a fallu rajouter "COLLATE NOCASE".&nbsp;</div><div>&nbsp;<br></div><div>Note pour le ON, il peut être écrit en sqlite ou mysql avec des parenthèses ou non</div><div>&nbsp;<br></div><div>MYSQL</div><div>&nbsp;<br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div>SELECT DISTINCT v.vm_name, v.management_name,</div><div><span style="background-color: rgb(255, 250, 165);">IF</span>(v.dns_name IS NULL, \'N/A\', v.dns_name),</div><div><span style="background-color: rgb(255, 250, 165);">IF</span>(c.environment_name IS NULL, \'N/A\', c.environment_name)</div><div>FROM vm_vmware AS v</div><div>LEFT JOIN vm_cmdb AS c</div><div><span style="background-color: rgb(255, 250, 165);">ON(</span>v.vm_name = c.vm_name<span style="background-color: rgb(255, 250, 165);">)</span></div></div><div>&nbsp;<br></div><div>SQLITE</div><div>&nbsp;<br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div><font style="font-size: 8pt;">SELECT DISTINCT v.serveur_name, v.management_name,</font></div><div><font style="font-size: 8pt;"><span style="background-color: rgb(255, 250, 165);">CASE</span> WHEN v.dns_name IS NULL THEN \'N/A\' ELSE v.dns_name END,&nbsp;&nbsp;</font></div><div><font style="font-size: 8pt;"><span style="background-color: rgb(255, 250, 165);">CASE</span> WHEN c.environment_name IS NULL THEN \'N/A\' ELSE c.environment_name END&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></div><div><font style="font-size: 8pt;">FROM serveur_vmware AS v</font></div><div><font style="font-size: 8pt;">LEFT JOIN serveur_cmdb AS c</font></div><div><font style="font-size: 8pt;"><span style="background-color: rgb(255, 250, 165);">ON</span> v.serveur_name = c.serveur_name <span style="background-color: rgb(255, 250, 165);">COLLATE NOCASE</span></font></div></div><div>&nbsp;<br></div>