<div>Pour copier un fichier mais en gardant ses attributs (owner, droits etc.), utiliser l'option -p (sauf si on est en root où là ça le fait par défaut).</div><div><br></div><div>Par exemple :</div><div><br></div><div>Je me met en root et je copie un fichier du user tim :</div><div><br></div><div style="padding: 8px; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div><span style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@centos1 ~]# ll /home/tim/</span></div><div><span style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">total 0</span></div><div><span style="background-color: rgb(255, 250, 165); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">-rw-rw-r--. 1 tim tim</span> <span style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">0 Jul 17 16:39 tim</span></div><div><br></div><div><span style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@centos1 ~]# ll</span></div><div><span style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">total 132</span></div><div><span style="background-color: rgb(255, 250, 165); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">-rw-rw-r--. 1 tim&nbsp; tim</span><span style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">&nbsp; &nbsp; &nbsp; 0 Jul 17 16:39 tim &nbsp;----&gt; copié avec "-p"</span></div><div><span style="background-color: rgb(255, 250, 165); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">-rw-r--r--. 1 root root</span><span style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">&nbsp; &nbsp; &nbsp;0 Jul 17 16:41 tim2 ----&gt; copié sans "-p"</span></div><div><br></div></div><div><br></div><div>Copier tout un répertoire de façon récursive :</div><div><br></div><div style="padding: 8px; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><span style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"># cp -r repsource repdestination</span></div><div><br></div><div>Copier plusieurs fichiers images dans le répertoire mesimages :</div><div><br></div><div style="padding: 8px; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><span style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"># cp *.jpg mesimages/</span></div><div><br></div><div><br></div><div>Par défaut cp écrase mais souvent un alias est fait à l'installation pour qu'une confirmation soit faite :</div><div><br></div><div style="padding: 8px; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div><span style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@centos3 ~]# type cp</span></div><div><span style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">cp is aliased to `cp -i'</span></div></div><div><br></div><div>Attention, si j'utilise cp avec find, l'alias n'est pas pris en compte et donc pas de confirmation avant écrasement si le fichier existe déjà :</div><div><br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);">[root@centos3 ~]# find /home/tim/rep1/ -user tim -exec cp -p {} /tmp/ \;</div><div><br></div><div>Pour voir ce qui est copié en temps réel (il n'existe pas de barre de progression pour cp) :</div><div><br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"># cp -v source destination</div><div><br></div><div><br></div>