<div><div style="margin: 0px 0px 1em; padding: 0px; border: 0px; clear: both;"><div><span style="text-decoration-line: underline; font-weight: bold;">EXPLICATIONS :</span></div><div>&nbsp;<br></div><div><span style="font-size: 15px;"><span style="color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">The numbers refer to the file descriptors (fd).</span></span></div></div><ul style="margin-right: 0px; margin-bottom: 1em; margin-left: 30px; padding: 0px; border: 0px; font-size: 15px; list-style-position: initial; list-style-image: initial;"><li style="margin: 0px 0px 0.5em; padding: 0px; border: 0px; word-wrap: break-word;"><span style="color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">Zero is&nbsp;</span><span style="color: rgb(34, 34, 34); font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; background-color: rgb(238, 238, 238); margin: 0px; padding: 1px 5px; border: 0px; white-space: pre-wrap;">stdin</span></li><li style="margin: 0px 0px 0.5em; padding: 0px; border: 0px; word-wrap: break-word;"><span style="color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">One is&nbsp;</span><span style="color: rgb(34, 34, 34); font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; background-color: rgb(238, 238, 238); margin: 0px; padding: 1px 5px; border: 0px; white-space: pre-wrap;">stdout</span></li><li style="margin: 0px 0px 0.5em; padding: 0px; border: 0px; word-wrap: break-word;"><span style="color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">Two is&nbsp;</span><span style="color: rgb(34, 34, 34); font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; background-color: rgb(238, 238, 238); margin: 0px; padding: 1px 5px; border: 0px; white-space: pre-wrap;">stderr</span></li></ul><div style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-size: 15px; clear: both;"><span style="color: rgb(34, 34, 34); font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; background-color: rgb(238, 238, 238); margin: 0px; padding: 1px 5px; border: 0px; white-space: pre-wrap;">2&gt;&amp;1</span><span style="color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">&nbsp;redirects fd 2 to 1.</span></div><div style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-size: 15px; clear: both;"><span style="color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">This works for any number of file descriptors if the program uses them.</span></div></div><div>You can look at&nbsp;<span style="background-color: rgb(238, 238, 238); font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; margin: 0px; padding: 1px 5px; border: 0px; white-space: pre-wrap;">/usr/include/unistd.h</span>&nbsp;if you forget them :</div><div>&nbsp;<br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div>/* Standard file descriptors. &nbsp;*/</div><div>#define STDIN_FILENO &nbsp; &nbsp;0 &nbsp; /* Standard input. &nbsp;*/</div><div>#define STDOUT_FILENO &nbsp; 1 &nbsp; /* Standard output. &nbsp;*/</div><div>#define STDERR_FILENO &nbsp; 2 &nbsp; /* Standard error output. &nbsp;*/</div></div><div>&nbsp;<br></div><div><ul style="margin-right: 0px; margin-bottom: 1em; margin-left: 30px; padding: 0px; border: 0px; font-size: 15px; list-style-position: initial; list-style-image: initial;"><li style="margin: 0px 0px 0.5em; padding: 0px; border: 0px; word-wrap: break-word;"><span style="color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">1 = standard output (where programs print normal output)</span></li><li style="margin: 0px 0px 0.5em; padding: 0px; border: 0px; word-wrap: break-word;"><span style="color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">2 = standard error (where programs print errors)</span></li></ul><div>"2&gt;&amp;1" simply points everything sent to stderr, to stdout instead.</div></div><div>&nbsp;<br></div><div>&nbsp;<br></div><div><span style="text-decoration-line: underline; font-weight: bold;">EXEMPLES :</span></div><div>&nbsp;<br></div><div>/tmp est un répertoire qui existe mais pas /tnt</div><div>&nbsp;<br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div>[root@centos6 ~]# ls -ld /tmp /tnt</div><div>ls: cannot access /tnt: No such file or directory</div><div>drwxrwxrwt. 41 root root 4096 Feb 22 14:57 /tmp</div></div><div>&nbsp;<br></div><div>On redirige la sortie standart (1) de la commande vers le vide. On ne garde donc que les erreurs :</div><div>&nbsp;<br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div>[root@centos6 ~]# ls -ld /tmp /tnt 1&gt;/dev/null</div><div>ls: cannot access /tnt: No such file or directory</div></div><div>&nbsp;<br></div><div>Même chose que la précédente. Pour la redirection, &gt; signifie rediriger la sortie standard vers un fichier :</div><div>&nbsp;<br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div>[root@centos6 ~]# ls -ld /tmp /tnt &gt;/dev/null</div><div>ls: cannot access /tnt: No such file or directory</div></div><div>&nbsp;<br></div><div>&nbsp;On redirige la sortie des erreurs (2) vers le vide :</div><div>&nbsp;<br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div>[root@centos6 ~]# ls -ld /tmp /tnt 2&gt;/dev/null</div><div>drwxrwxrwt. 41 root root 4096 Feb 22 14:57 /tmp</div></div><div>&nbsp;<br></div><div>On redirige les erreurs et la sortie standard vers le vide :</div><div>&nbsp;<br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div>[root@centos6 ~]# ls -ld /tmp /tnt &gt;/dev/null 2&gt;&amp;1</div><div>[root@centos6 ~]#</div></div><div>&nbsp;<br></div><div><span style="color: rgb(255, 0, 0);">NOTE !!! &nbsp;</span> &nbsp;</div><div>&nbsp;<br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);">ls -ld /tmp /tnt 2&gt;&amp;1&nbsp;&gt;/dev/null &nbsp; &nbsp; NE FONCTIONNE PAS !!!!!</div><div>&nbsp;<br></div><div>&nbsp;<br></div><div>Si on veut juste rediriger tout (standard et erreurs) à la suite d'un fichier (sans écraser) :</div><div>&nbsp;<br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);">[root@centos6 ~]# ls -ld /tmp /tnt&nbsp;&gt;&gt; /fichier.txt 2&gt;&amp;1</div><div>&nbsp;<br></div><div>&nbsp;<br></div><div><span style="font-size: 19px;">File descriptors</span></div><div>&nbsp;<br></div><div style="padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div>[root@centos4 fd]# sleep 9999 &gt; /dev/null&nbsp; 2&gt; /tmp/errors.log &amp;</div><div>[2] <span style="background-color: rgb(255, 250, 165);">1894</span></div><div>&nbsp;<br></div><div>[root@centos4 fd]# ll /proc/<span style="background-color: rgb(255, 250, 165);">1894</span>/fd</div><div>total 0</div><div>lrwx------. 1 root root 64 Feb&nbsp; 3 23:33 0 -&gt; /dev/pts/0</div><div>l-wx------. 1 root root 64 Feb&nbsp; 3 23:33 1 -&gt; /dev/null</div><div>l-wx------. 1 root root 64 Feb&nbsp; 3 23:33 2 -&gt; /tmp/errors.log</div></div><div>&nbsp;<br></div><div>&nbsp;<br></div><div>STDIN (sortie clavier) ---&gt; 0 -&gt; /dev/pts/0 (vers écran console pts ssh)</div><div>STDOUT (sortie écran) ---&gt;&nbsp;1 -&gt; vers /dev/null (vers le vide)</div><div>STDERR (sortie erreur) ---&gt;&nbsp;2 -&gt; vers /tmp/errors.log</div><div>&nbsp;<br></div><div><span style="text-decoration-line: underline;">Autre exemple :</span></div><div>&nbsp;<br></div><div>Si on fait un find / | more (more pour que le process reste running), il y a 2 process créés, un pour le find et un pour le more.&nbsp;</div><div>&nbsp;<br></div><div>Si on fait un <span style="font-weight: bold;">ls -l /proc/PID_process_du_</span><span style="font-weight: bold; color: rgb(255, 0, 0);">find</span><span style="font-weight: bold;">/fd</span>, on voit bien le pipe sur le STDOUT.</div><div>Si on fait un <span style="font-weight: bold;">ls -l /proc/PID_process_du_</span><span style="font-weight: bold; color: rgb(255, 0, 0);">more</span><span style="font-weight: bold;">/fd</span>, on voit bien le pipe sur le STDIN.</div><div>&nbsp;<br></div><div>On peut aussi voir l'id du pipe donc les données sont copiées du stdout du find vers le stdin du more.</div><div>&nbsp;<br></div><div><span style="text-decoration-line: underline;">Autre exemple :</span></div><div>&nbsp;<br></div><div>Si je fait un find / et que je le stopped avec CTRL+Z juste avant qu'il se termine, et que je regarde les fd du process, on voit qu'il a ouvert plein de DEVICE. En fait, c'est les fichiers qu'il lit.</div><div>&nbsp;<br></div>